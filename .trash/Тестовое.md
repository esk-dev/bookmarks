### Описание
Здесь описание тестового задания.

Как мы поступим:

- Вы знакомитесь с заданием.
    
- Вы выполняете задание.
    
- Результат выполнения выложить на github, прислать ссылку. Просьба здесь же приложить описание процесса запуска.
    
- При наличии вопросов – пишите обратным письмом на всех, либо в конце файла контакты для связи.
    
- Срок выполнения по нашим оценкам – 1-2 недели, задание не сложное.
    

  

  

  

  

**Постановка задачи**  
Предлагается разработать приложение для заметок.

Приложение должно состоять из трех частей:
- Backend - Основная логика приложения;
- Client - Способ взаимодействия с пользователем. Например, сайт;
- DataBase - Хранилище информации.  

1. Для реализации логики приложения необходимо использовать язык C# и NetCore;
2. Пользовательский интерфейс должен быть веб сайтом Angular;
3. Вместе с Angular допустимо использовать DevExtreme либо другой пакет;
4. Для реализации работы с информацией необходимо использовать ORM EntityFramework Core.
5. В качестве хранилища использовать PostgreSQL.  

**Обязательное условие!**

Необходимо наличие инструкции, описывающей как запустить и использовать полученный проект.

**Функциональные требования**

К функциональным относятся:
- создание, редактирование, удаление заметок;
- установка тегов;
- создание тегов;
- прикрепление заметки к определённой дате и определённому времени;
- список заметок и напоминаний;
- напоминание о заметке к определённой дате через push-уведомление* (по желанию).
* * - необязательно к реализации
Система представляет из себя одностраничное приложение с несколькими вкладками. Каждая из вкладок предоставляет пользователю определенный функционал: 
**Вкладка «Заметки»:**
- Отображение ранее созданных пользователем заметок и их заголовков;
- Создание заметок внутри специальной формы, позволяющей создать саму заметку и ее заголовок;
- Возможность редактирование и удаления уже созданных заметок.

**Вкладка «Напоминания»:**
- Отображение созданных ранее напоминаний и сроков выполнения; Создание напоминаний.

**Вкладка «Теги»:**
- Отображение ранее созданных тегов;
- Добавление тегов;
- Удаление тегов.
**Контакты для связи:**
Telegram:
[https://t.me/kirpechka](https://t.me/kirpechka)
Почта:
[pechkarev.k@konsom.ru](mailto:pechkarev.k@konsom.ru)

## Реализация
### Backend

### BD
pswd = 32rwonr3103faf#
user = postgres
Логика базы данных для заметок и напоминаний

**Сущности:**

1. **Users (Пользователи):**
   - user_id (INT, PRIMARY KEY, AUTO_INCREMENT)
   - username (VARCHAR(255), UNIQUE, NOT NULL)
   - password (VARCHAR(255), NOT NULL)
   - email (VARCHAR(255), UNIQUE, NOT NULL)
   - ... (другие поля профиля пользователя, например, имя, фамилия, дата регистрации)

2. **Notes (Заметки):**
   - note_id (INT, PRIMARY KEY, AUTO_INCREMENT)
   - user_id (INT, FOREIGN KEY, ссылается на Users.user_id)
   - title (VARCHAR(255))
   - content (TEXT)
   - created_at (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP)
   - updated_at (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP)

3. **Reminders (Напоминания):**
   - reminder_id (INT, PRIMARY KEY, AUTO_INCREMENT)
   - note_id (INT, FOREIGN KEY, ссылается на Notes.note_id)
   - reminder_date (DATETIME, NOT NULL)

4. **Tags (Теги):**
   - tag_id (INT, PRIMARY KEY, AUTO_INCREMENT)
   - tag_name (VARCHAR(255), UNIQUE, NOT NULL)

5. **NoteTags (Связь заметок и тегов):**
   - note_id (INT, FOREIGN KEY, ссылается на Notes.note_id)
   - tag_id (INT, FOREIGN KEY, ссылается на Tags.tag_id)
   - PRIMARY KEY (note_id, tag_id)


**Функциональные требования:**

**1. Создание, редактирование, удаление заметок:**

- **Создание:** Вставка новой записи в таблицу Notes с данными от пользователя (title, content). Автоматически заполняются created_at и updated_at.
- **Редактирование:** Обновление записи в таблице Notes по note_id с новыми данными (title, content). Автоматически обновляется updated_at.
- **Удаление:** Удаление записи из таблицы Notes по note_id. Каскадное удаление связанных записей в Reminders и NoteTags.

**2. Установка тегов:**

- **Создание тега:** Вставка новой записи в таблицу Tags с именем тега (tag_name).
- **Прикрепление тега к заметке:** Вставка новой записи в таблицу NoteTags с note_id и tag_id.
- **Удаление тега из заметки:** Удаление записи из таблицы NoteTags по note_id и tag_id.

**3. Прикрепление заметки к определенной дате и времени:**

- Вставка новой записи в таблицу Reminders с note_id и reminder_date.

**4. Список заметок и напоминаний:**

- **Список заметок:** Выборка всех записей из таблицы Notes, отфильтрованных по user_id. Можно использовать JOIN с NoteTags и Tags для получения информации о тегах.
- **Список напоминаний:** Выборка всех записей из таблицы Reminders, отфильтрованных по user_id (через JOIN с Notes). Можно использовать ORDER BY reminder_date для сортировки.

**5. Напоминание о заметке к определенной дате через push-уведомление:**

- **Сервис/скрипт:** Необходимо создать отдельный сервис или скрипт, который будет периодически проверять таблицу Reminders на наличие напоминаний, время которых наступило.
- **Push-уведомления:** При обнаружении напоминания, сервис отправляет push-уведомление пользователю (по user_id) с информацией о заметке (title, content).


**Дополнительные возможности:**

- **Поиск заметок:** Можно реализовать полнотекстовый поиск по title и content с использованием индексов.
- **Архивация заметок:** Добавить поле "archived" (BOOLEAN) в таблицу Notes для возможности архивирования заметок.
- **Совместное использование заметок:** Добавить таблицу для связи пользователей с заметками (например, NoteUsers) для реализации возможности совместного использования.
- **Разграничение прав доступа:** Добавить поля для определения уровня доступа к заметкам (например, "public", "private", "shared").


Эта логика базы данных предоставляет базовый функционал для приложения заметок с напоминаниями. Вы можете расширять и модифицировать ее в соответствии с вашими конкретными потребностями.

### 

```
1.   
    email: "ffg@gmail.com"
2. token: "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZmZ0BnbWFpbC5jb20iLCJnaXZlbl9uYW1lIjoicXdlcnR5MTIzNCIsIm5iZiI6MTcyNzA4NTg2MiwiZXhwIjoxNzI3NjkwNjYyLCJpYXQiOjE3MjcwODU4NjIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTI0NiIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTI0NiJ9.7fMWObrT9E09Nn56nXt-qYdFJFHyhbsfLBBjUQwnA2B_Mm6tqhQOj4wkbgQBpuOieloO-AW6egUqxP0Yt1tciA"
3. userName: "qwerty1234"
```
```
1. email: "ffg@gmail.com"
2. password: "testUser123456!"
3. username: "testUser"
```
{
  "username": "TestUserTest",
  "email": "user@example.com",
  "password": "qwerty123!"
}
```json
  "token": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJnaXZlbl9uYW1lIjoiVXNlciIsIm5iZiI6MTcyNzIzMjUwNywiZXhwIjoxNzI3ODM3MzA3LCJpYXQiOjE3MjcyMzI1MDcsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTI0NiIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTI0NiJ9.AI02pbxEft0R_rb9izVqP_OTLuQlRLuwMVMx8HTiTMfFE9H_QV0y1JZ9TSL89VSQ5Mfv6NN5-DfkOGSd0_0wpw"
```

{ "userName": "TestUser", "email": "user@example.com", "token": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJnaXZlbl9uYW1lIjoiVGVzdFVzZXIiLCJuYmYiOjE3MjcyMzY0OTMsImV4cCI6MTcyNzg0MTI5MywiaWF0IjoxNzI3MjM2NDkzLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjUyNDYiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUyNDYifQ.HqvvilFs0XBq5woTKrXBRYlYNnV31zIbfxwoODOpvmpaBADEbITVQsbN96D4RwolDhSSWB9rq7PeabHA6-pjxw" }


## Заметки и напоминания

### Описание

Данное приложение представляет собой систему управления заметками и напоминаниями, разработанную с использованием следующих технологий:

- **Backend:** C# .NET Core, Entity Framework Core
- **Client:** Angular, Angular Material
- **Database:** PostgreSQL

Приложение позволяет создавать, редактировать и удалять заметки, устанавливать теги, редактировать, удалять теги, создавать напоминания, привязанные к определенной дате и времени.

### Функциональность

Приложение реализовано как одностраничное приложение с тремя вкладками:

**Вкладка "Заметки":**

- Отображение списка заметок с заголовками.
- Создание новых заметок с заголовком и текстом.
- Редактирование существующих заметок.
- Удаление заметок.
- Создание напоминаний к заметке.

**Вкладка "Напоминания":**

- Отображение списка напоминаний с датой и временем.
- **(Не реализовано)** Редактирование напоминаний.
- **(Не реализовано)** Удаление напоминаний.

**Вкладка "Теги":**

- Отображение списка тегов.
- Создание новых тегов.
- Удаление тегов.
- **(Не реализовано)** Редактирование тегов.

**Авторизация:**

- Реализована базовая авторизация пользователей.

**Ограничения:**

- **Отображение ошибок:**  В текущей версии приложения не реализовано корректное отображение ошибок, возникающих на стороне backend. 

### Инструкция по запуску

**Предварительно**
- Клонируйте репозиторий проекта: `git clone <ссылка на репозиторий>`
- Перейдите в корневую папку проекта: `cd <название проекта>`

**1. Настройка backend:**
- Перейдите в папку `backend`
- В файле `appsettings.develop.json` настройте параметры подключения к локальной базе данных PostgreSQL.
- Выполните миграции базы данных: `dotnet ef database update`
- Запустите backend: `dotnet run`

**2. Настройка frontend:**

- Перейдите в папку `frontend`
- Установите зависимости: `npm install`
- Запустите frontend: `npm run start`

**3. Использование:**

- Откройте браузер и перейдите по адресу `http://localhost:4200/`
- Зарегистрируйтесь или войдите в систему.
- Используйте вкладки для управления заметками, напоминаниями и тегами.

## Альтернативный  способ запуска

**Предварительные требования:**

- Установленный Docker и Docker Compose.

**1. Запуск приложения:**

- Клонируйте репозиторий проекта: `git clone <ссылка на репозиторий>`
- Перейдите в корневую папку проекта: `cd <название проекта>`
- Выполните команду `docker-compose up -d`.

**2. Использование:**

- Откройте браузер и перейдите по адресу `http://localhost:4200/`
- Зарегистрируйтесь или войдите в систему.
- Используйте вкладки для управления заметками, напоминаниями и тегами.

**Примечание:** 

Данный проект является базовой реализацией системы управления заметками и напоминаниями.  В дальнейшем планируется расширить функциональность, включая:

- Прикрепление тегов к заметкам.
- Фильтрация заметок по тегам.
- Улучшенная обработка ошибок и отображение сообщений об ошибках пользователю.
-  Реализация более сложной системы авторизации и аутентификации.
-  Доработка функционала напоминаний
